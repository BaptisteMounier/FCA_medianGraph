\chapter{Contribution}

\section{Implémentation}

Le stage s'est déroulé en deux phases. La première consistait à implémenter la méthode détaillé dans la section précédente afin de la tester sur des cas de façon automatique. La seconde partie du stage avait pour but d'améliorer la méthode afin de prendre en compte le problème de fusion des n\oe uds. Avec en parallèle un renforcement de la compréhension du domaine à travers des articles sur l'existant et des discussions avec l'équipe.

\bigbreak

La toute première question à se poser pour l'implémentation est celle du langage. Le problème n'ayant pas de contraintes particulières je suis partis sur un programme orienté objet en Python. C'est un langage assez répandu et très malléable, ce qui fait de lui un choix basique mais fiable. Choix également renforcé par mon expérience principalement tournée sur du langage objet permettant de m'adapter plus facilement. Une fois ce choix fait, le plus long a été d'adapter l'algorithme pour sa mise en fonction, cela m'a également permis de comprendre de mieux en mieux les mécanismes mis en jeu. À ce stade nous obtenons le workflow en figure \ref{workflow_1}. Le programme commence par effectuer l'importation des données d'entrée. Il extrait un contexte pour chaque treillis formé par les filtres des atomes et effectue l'algorithme vu précédemment en figure \ref{algo_cla}. Une fois fait, le programme regroupe les contextes en un unique et exporte le résultat sous forme graphique à l'aide de Graphviz\cite{doc_graphviz} à travers sa bibliothèque\cite{doc_python_graphviz}. De plus nous effectuons une exportation sous forme de matrice binaire pour ConExp\cite{conexp}, une application permettant de générer les treillis. Nous avons toujours dans cet état le problème sur les cas non triviaux développé plus tôt.

\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}[node distance = 0.5cm, auto]
			% Place nodes
			\node [inout] (start) at (0, 0) {début};
			\node [inout] (end) at (3, 0) {fin};
			\node [block] (import) at (0, -1.5) {importation};
			\node [block] (export) at (3, -1.5) {exportation};
			
			\node [algorithm] (eachatom) at (0, -3) {pour chaque atome};
			\node [block] (extract) at (0, -4.5) {extraction du contexte};
			\node [block] (algo) at (0, -6) {algorithme};
			\node [block] (commun) at (0, -7.5) {remise en commun};
			
			% Draw edges
			\path [line2] (start) -- (import);
			\path [line2] (import) -- (eachatom);
			\path [line2] (export) -- (end);
			\path [line3] (eachatom) -- (extract);
			\path [line2] (eachatom) -| (export);
			\path [line3] (extract) -- (algo);
			\path [line3] (algo) -- (commun);
		\end{tikzpicture}
	\end{center}
	\caption{Worflow de la première version du programme}
	\label{workflow_1}
\end{figure}

Il est question à présent de la fusion des n\oe uds dans le but d'obtenir le treillis désiré, pour en ressortir des règles de fusions. Nous allons nous baser sur le cas mis en avant dans \cite{cla2018} avec en figure \ref{cas_cla_base} le treillis de départ. La figure \ref{cas_cla_obtenu} est un rappel du résultat dans l'état actuel et la figure \ref{cas_cla_desiree} est le résultat optimal. On remarque que les points noirs 10 et 12 du résultat obtenu peuvent ne faire qu'un pour obtenir le point 8 du résultat désiré. En regardant également le treillis distributif maximum en figure \ref{cas_cla_max} on a l'intuition qu'il suffit de remplacer les points qu'on souhaite fusionner par leur supremum, cela à été notre point de départ.

\begin{figure}[H]
	\begin{minipage}{0.5\textwidth}
		\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-0.5, 0.5) {};
			\node [wnode, label=right:{4}] (4) at (0.5, 0.5) {};			
			\node [wnode, label=left:{2}] (2) at (-1, 1) {};
			\node [wnode, label=left:{3}] (3) at (-1, 1.5) {};			
			\node [wnode, label=right:{5}] (5) at (1, 1) {};
			\node [wnode, label=right:{6}] (6) at (1, 1.5) {};			
			\node [wnode, label=right:{7}] (7) at (0, 1) {};			
			\node [wnode, label={$\top$}] (top) at (0, 2) {};
			
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (4);			
			\path [line] (1) -- (2);
			\path [line] (1) -- (7);
			\path [line] (2) -- (3);
			\path [line] (3) -- (top);			
			\path [line] (4) -- (5);
			\path [line] (4) -- (7);
			\path [line] (5) -- (6);
			\path [line] (6) -- (top);			
			\path [line] (7) -- (top);
		\end{tikzpicture}
		\end{center}
		\caption{Treillis de départ}
		\label{cas_cla_base}
	\end{minipage}
	\begin{minipage}{0.5\textwidth}
		\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-0.5, 0.5) {};
			\node [wnode, label=right:{4}] (4) at (0.5, 0.5) {};			
			\node [wnode, label=left:{2}] (2) at (-1, 1) {};
			\node [wnode, label=left:{3}] (3) at (-1, 1.5) {};			
			\node [wnode, label=right:{5}] (5) at (1, 1) {};
			\node [wnode, label=right:{6}] (6) at (1, 1.5) {};			
			\node [bnode, label=right:{7}] (7) at (0, 1) {};
			\node [bnode, label=left:{10}] (10) at (-0.25, 1.5) {};
			\node [bnode, label=right:{12}] (12) at (0.25, 1.5) {};			
			\node [wnode, label={$\top$}] (top) at (0, 2) {};
			
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (4);			
			\path [line] (1) -- (2);
			\path [line] (1) -- (7);
			\path [line] (2) -- (3);
			\path [line] (3) -- (top);			
			\path [line] (4) -- (5);
			\path [line] (4) -- (7);
			\path [line] (5) -- (6);
			\path [line] (6) -- (top);			
			\path [line] (7) -- (10);
			\path [line] (7) -- (12);
			\path [line] (10) -- (top);
			\path [line] (12) -- (top);			
			\path [line] (2) -- (10);
			\path [line] (5) -- (12);
		\end{tikzpicture}
		\end{center}
		\caption{Treillis obtenu}
		\label{cas_cla_obtenu}
	\end{minipage}
	\begin{minipage}{0.5\textwidth}
		\begin{center}
			\begin{tikzpicture}
				\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
				\node [wnode, label=left:{1}] (1) at (-0.5, 0.5) {};
				\node [wnode, label=right:{4}] (4) at (0.5, 0.5) {};
				\node [wnode, label=left:{2}] (2) at (-1, 1) {};
				\node [wnode, label=left:{3}] (3) at (-1, 1.5) {};
				\node [wnode, label=right:{5}] (5) at (1, 1) {};
				\node [wnode, label=right:{6}] (6) at (1, 1.5) {};
				\node [bnode, label=right:{7}] (7) at (0, 1) {};
				\node [bnode, label=right:{8}] (8) at (0, 1.5) {};
				\node [wnode, label={$\top$}] (top) at (0, 2) {};
		
				\path [line] (bot) -- (1);
				\path [line] (bot) -- (4);
				\path [line] (1) -- (2);
				\path [line] (1) -- (7);
				\path [line] (2) -- (3);
				\path [line] (3) -- (top);
				\path [line] (4) -- (5);
				\path [line] (4) -- (7);
				\path [line] (5) -- (6);
				\path [line] (6) -- (top);
				\path [line] (7) -- (8);
				\path [line] (8) -- (top);
				\path [line] (2) -- (8);
				\path [line] (5) -- (8);
			\end{tikzpicture}
		\end{center}
		\caption{Treillis désirée}
		\label{cas_cla_desiree}
	\end{minipage}
	\begin{minipage}{0.5\textwidth}
		\begin{center}
			\begin{tikzpicture}
				\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
				\node [wnode, label=left:{1}] (1) at (-0.5, 0.5) {};
				\node [wnode, label=left:{2}] (2) at (-1, 1) {};
				\node [wnode, label=left:{3}] (3) at (-1.5, 1.5) {};
				\node [wnode, label=right:{4}] (4) at (0.5, 0.5) {};
				\node [wnode, label=right:{5}] (5) at (1, 1) {};
				\node [wnode, label=right:{6}] (6) at (1.5, 1.5) {};
				\node [bnode, label=right:{7}] (7) at (0, 1) {};
				\node [bnode, label=left:{10}] (10) at (-0.5, 1.5) {};
				\node [wnode, label=right:{}] (11) at (-1, 2) {};
				\node [bnode, label=right:{12}] (12) at (0.5, 1.5) {};
				\node [bnode, label=right:{8}] (8) at (0, 2) {};
				\node [wnode, label=right:{}] (13) at (-0.5, 2.5) {};
				\node [wnode, label=right:{}] (14) at (1, 2) {};
				\node [wnode, label=right:{}] (15) at (0.5, 2.5) {};
				\node [wnode, label={$\top$}] (top) at (0, 3) {};
		
				\path [line] (bot) -- (1);
				\path [line] (bot) -- (4);
				\path [line] (1) -- (2);
				\path [line] (1) -- (7);
				\path [line] (2) -- (3);
				\path [line] (2) -- (10);
				\path [line] (3) -- (11);
				\path [line] (4) -- (5);
				\path [line] (4) -- (7);
				\path [line] (5) -- (6);
				\path [line] (5) -- (12);
				\path [line] (6) -- (14);
				\path [line] (7) -- (10);
				\path [line] (7) -- (12);
				\path [line] (8) -- (13);
				\path [line] (8) -- (15);
				\path [line] (10) -- (8);
				\path [line] (10) -- (11);
				\path [line] (11) -- (13);
				\path [line] (12) -- (8);
				\path [line] (12) -- (14);
				\path [line] (13) -- (top);
				\path [line] (14) -- (15);
				\path [line] (15) -- (top);
			\end{tikzpicture}
		\end{center}
		\caption{Treillis distributif maximum}
		\label{cas_cla_max}
	\end{minipage}
\end{figure}

Nous avons ensuite travaillé sur cette piste à partir de toute une série de treillis qui se trouve en annexe \ref{exemplescas} ayant chacun ses spécificités. À chaque résultat déviant du résultat souhaité sur l'un des cas, nous avons effectué un ajustement des conditions de fusion des n\oe uds tout en vérifiant le bon fonctionnement sur les cas déjà traités. Nous sommes arrivés à trois conditions.

\begin{definition}[Conditions de fusion]
Soit $a$ et $b$ les deux n\oe uds à fusionner, le contexte actuel $C(J, M, I)$, le contexte de départ $C_o(J_o, M_o, I_o)$ et $X$ l'ensemble des atomes de $C$ :
\begin{itemize}
	\item Les deux n\oe uds à fusionner ne doivent pas faire partis des n\oe uds du treillis de départ.\\
	$a, b \in J \setminus J_o : a \neq b$
	\item Les deux n\oe uds à fusionner doivent être en couverture d'un n\oe ud présent dans au moins deux filtres d'atomes.\\
	$Pour (x_1, x_2 \in X$ avec $x_1 \neq x_2)$, $\exists c \in J : a' \subseteq c' \subseteq x_1'$ et $b' \subseteq c' \subseteq x_2'$
	\item Les deux n\oe uds à fusionner ne doivent pas avoir de n\oe uds en commun dans leurs idéaux une fois que les idéaux du n\oe ud en commun (celui dont il est question dans la condition précédente) leur sont retirés.\\
	$(\downarrow \! a$ $\cap \downarrow \! b) \setminus \downarrow \! c = \emptyset$
\end{itemize}
\end{definition}

Nous pouvons l'illustrer sur les figures précédentes. Les n\oe uds 10 et 12 de la figure \ref{cas_cla_obtenu} ne sont pas présent dans la figure \ref{cas_cla_base}, ils ne font donc pas partis du treillis de départ. Ces deux n\oe uds sont également en couverture du n\oe ud 7 qui est présent dans les filtres de l'atome 1 et de l'atome 4. Et pour finir, nous avons $\downarrow \! 10$ $\cap \downarrow \! 12 = {7, 1, 4, \bot}$ et $\downarrow \! 7 = {7, 1, 4, \bot}$ donc $(\downarrow \! 10$ $\cap \downarrow \! 12) \setminus \downarrow \! 7 = \emptyset$.

\bigbreak

Avec la mise en place de cette fusion des n\oe uds, nous obtenons un nouveau workflow détaillé en figures \ref{workflow_2} et \ref{workflow_algo}.

\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}[node distance = 0.5cm, auto]
			% Place nodes
			\node [inout] (start) at (0, 0) {début};
			\node [inout] (end) at (3, 0) {fin};
			\node [block] (import) at (0, -1.5) {importation};
			\node [block] (export) at (3, -1.5) {exportation};
			\node [algorithm] (eachatom) at (0, -3) {pour chaque atome};
			\node [block] (extract) at (0, -4.5) {extraction du contexte};
			\node [block] (algo) at (0, -6) {algorithme};
			\node [block] (commun) at (0, -7.5) {remise en commun};
			\node [block] (fusion) at (3, -3) {fusion};
			
			% Draw edges
			\path [line2] (start) -- (import);
			\path [line2] (import) -- (eachatom);
			\path [line2] (export) -- (end);
			\path [line3] (eachatom) -- (extract);
			\path [line2] (eachatom) -- (fusion);
			\path [line3] (extract) -- (algo);
			\path [line3] (algo) -- (commun);
			\path [line2] (fusion) -- (export);
		\end{tikzpicture}
	\end{center}
	\caption{Worflow de la seconde version du programme, avec la fusion des n\oe uds}
	\label{workflow_2}
\end{figure}

\section{Problèmes et difficultés}

\subsection{Système de boucle}

Nous avons rencontré un problème qui porte sur des cas où un passage complet de la méthode avec post traitement de fusion ne suffit pas, ce cas est présenté sur la figure \ref{clav7_1}. La fusion recréant une situation avec des treillis d'atomes non distributif et demandant donc de refaire un passage dans tout le processus.

\begin{figure}[H]
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [bnode, label=right:{1}] (1) at (1, 1) {};
			\node [wnode, label=left:{2}] (2) at (-1, 1) {};
			\node [bnode, label=right:{3}] (3) at (0, 2) {};
			\node [bnode, label=right:{4}] (4) at (2, 2) {};
			\node [wnode, label=left:{5}] (5) at (-2, 2) {};
			\node [bnode, label=right:{6}] (6) at (2, 3) {};
			\node [bnode, label={$\top$}] (top) at (0, 4) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (4);
			\path [line] (2) -- (3);
			\path [line] (2) -- (5);
			\path [line] (4) -- (6);
			\path [line] (6) -- (top);
			\path [line] (3) -- (top);
			\path [line] (5) -- (top);
		\end{tikzpicture}
	\end{center}
	\end{minipage}
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=right:{1}] (1) at (1, 1) {};
			\node [bnode, label=left:{2}] (2) at (-1, 1) {};
			\node [bnode, label=right:{3}] (3) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (2, 2) {};
			\node [bnode, label=left:{5}] (5) at (-2, 2) {};
			\node [wnode, label=right:{6}] (6) at (2, 3) {};
			\node [bnode, label=right:{}] (7) at (0, 3) {};
			\node [bnode, label={$\top$}] (top) at (0, 4) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (4);
			\path [line] (2) -- (3);
			\path [line] (2) -- (5);
			\path [line] (4) -- (6);
			\path [line] (4) -- (7);
			\path [line] (6) -- (top);
			\path [line] (3) -- (7);
			\path [line] (7) -- (top);
			\path [line] (5) -- (top);
		\end{tikzpicture}
	\end{center}
	\end{minipage}
	\caption{Cas cla\_v7 : première itération}
	\label{clav7_1}
\end{figure}

À ce stade, plusieurs correctifs ont été envisagé. Le premier est de faire une boucle de traitement où on refait tout le processus tant que tous les treillis d'atome ne sont pas disctributif, comme le montre la figure \ref{clav7_2} représentant la seconde itération, c'est la solution utilisé à l'heure actuelle. La figure \ref{workflow_boucle} représente le nouveau workflow global et la figure \ref{workflow_median} détaille le comportement du bloc \guillemotleft{} médian ? \guillemotright{}.

\begin{figure}[H]
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=right:{1}] (1) at (1, 1) {};
			\node [wnode, label=left:{2}] (2) at (-1, 1) {};
			\node [wnode, label=right:{3}] (3) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (2, 2) {};
			\node [wnode, label=left:{5}] (5) at (-2, 2) {};
			\node [wnode, label=right:{6}] (6) at (2, 3) {};
			\node [bnode, label=right:{}] (7) at (0, 3) {};
			\node [wnode, label={$\top$}] (top) at (0, 4) {};
			\node [bnode, label=left:{}] (8) at (-2, 3) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (4);
			\path [line] (2) -- (3);
			\path [line] (2) -- (5);
			\path [line] (4) -- (6);
			\path [line] (4) -- (7);
			\path [line] (6) -- (top);
			\path [line] (3) -- (7);
			\path [line] (7) -- (top);
			\path [line] (5) -- (8);
			\path [line] (3) -- (8);
			\path [line] (8) -- (top);
		\end{tikzpicture}
	\end{center}
	\end{minipage}
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=right:{1}] (1) at (1, 1) {};
			\node [wnode, label=left:{2}] (2) at (-1, 1) {};
			\node [wnode, label=right:{3}] (3) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (2, 2) {};
			\node [wnode, label=left:{5}] (5) at (-2, 2) {};
			\node [wnode, label=right:{6}] (6) at (2, 3) {};
			\node [bnode, label=right:{}] (7) at (0, 3) {};
			\node [wnode, label={$\top$}] (top) at (0, 4) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (4);
			\path [line] (2) -- (3);
			\path [line] (2) -- (5);
			\path [line] (4) -- (6);
			\path [line] (4) -- (7);
			\path [line] (6) -- (top);
			\path [line] (3) -- (7);
			\path [line] (7) -- (top);
			\path [line] (5) -- (7);
		\end{tikzpicture}
	\end{center}
	\end{minipage}
	\caption{Cas cla\_v7 : seconde itération}
	\label{clav7_2}
\end{figure}

\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}[node distance = 0.5cm, auto]
			% Place nodes
			\node [inout] (start) at (0, 0) {début};
			\node [inout] (end) at (3, 0) {fin};
			\node [block] (import) at (0, -1.5) {importation};
			\node [block] (export) at (3, -1.5) {exportation};
			\node [decision] (median) at (0, -4) {médian ?};
			\node [algorithm] (eachatom) at (-3, -6.5) {pour chaque atome};
			\node [block] (extract) at (-3, -8) {extraction du contexte};
			\node [block] (algo) at (-3, -9.5) {algorithme};
			\node [block] (commun) at (-3, -11) {remise en commun};
			\node [block] (fusion) at (0, -6.5) {fusion};
			% Draw edges
			\path [line2] (start) -- (import);
			\path [line2] (import) -- (median);
			\path [line2] (median) -| node [near start] {non} (eachatom);
			\path [line2] (median) -| node [near start] {oui} (export);
			\path [line2] (export) -- (end);
			\path [line3] (eachatom) -- (extract);
			\path [line2] (eachatom) -- (fusion);
			\path [line2] (fusion) -- (median);
			\path [line3] (extract) -- (algo);
			\path [line3] (algo) -- (commun);
		\end{tikzpicture}
	\end{center}
	\caption{Worflow de la version du programme incluant la boucle}
	\label{workflow_boucle}
\end{figure}

\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}[node distance = 0.5cm, auto]
			% Place nodes
			\node [inout] (start) at (0, 0) {début};
			\node [algorithm] (eachatom) at (0, -1.5) {pour chaque atome};
			\node [block] (extract) at (0, -3) {extraction};
			\node [inout] (end) at (3, 0) {fin};
			\node [block] (arrow) at (0, -4.5) {relations flèches};
			\node [decision] (distributif) at (0, -7) {distributif ?};
			% Draw edges
			\path [line2] (start) -- (eachatom);
			\path [line3] (eachatom) -- (extract);
			\path [line3] (extract) -- (arrow);
			\path [line3] (arrow) -- (distributif);
			\path [line2] (eachatom) -| node [near start] {oui} (end);
			\path [line2] (distributif) -|  node [near start] {non} (end);
		\end{tikzpicture}
	\end{center}
	\caption{Sous worflow correspondant au bloc \guillemotleft{} médian ? \guillemotright{}}
	\label{workflow_median}
\end{figure}

\subsection{Apparition de chaines}

Le second problème qui est apparu ne se pose que sur un seul cas actuellement. Ce n'est pas que la méthode ne fonctionne plus, mais elle donne en résultat un treillis bien plus gros que celui espéré. Il provoque à un moment donné la création d'un chaine suite à la fusion de n\oe uds qui va par la suite dégénéré en un sous treillis non désiré. Alors qu'avec une analyse du cas particulier, nous pouvons couper court à ce probème. Voici en figure \ref{pbl_v6_base} le treillis de départ et en figure \ref{pbl_v6_souhait} le treillis souhaité et obtenu manuellement.


\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-0.5, 1) {};
			\node [wnode, label=right:{2}] (2) at (0.5, 1) {};
			\node [wnode, label=left:{3}] (3) at (-1, 2) {};
			\node [wnode, label=right:{}] (B) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (1, 2) {};
			\node [wnode, label=left:{5}] (5) at (-1, 3) {};
			\node [wnode, label=right:{6}] (6) at (1, 3) {};
			\node [wnode, label=left:{7}] (7) at (-1, 4) {};
			\node [wnode, label=left:{}] (F) at (0, 4) {};
			\node [wnode, label={$\top$}] (top) at (0, 5) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (B);
			\path [line] (1) -- (3);
			\path [line] (2) -- (B);
			\path [line] (2) -- (4);
			\path [line] (3) -- (5);
			\path [line] (B) -- (F);
			\path [line] (4) -- (6);
			\path [line] (5) -- (7);
			\path [line] (5) -- (F);
			\path [line] (6) -- (top);
			\path [line] (7) -- (top);
			\path [line] (F) -- (top);
		\end{tikzpicture}
	\end{center}
	\caption{Treillis du problème de chaine, départ}
	\label{pbl_v6_base}
\end{figure}
	
\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-0.5, 1) {};
			\node [wnode, label=right:{2}] (2) at (0.5, 1) {};
			\node [wnode, label=left:{3}] (3) at (-1, 2) {};
			\node [wnode, label=right:{}] (B) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (1, 2) {};
			\node [wnode, label=left:{5}] (5) at (-1, 3) {};
			\node [wnode, label=right:{6}] (6) at (1, 3) {};
			\node [wnode, label=left:{7}] (7) at (-1, 4) {};
			\node [wnode, label=left:{}] (F) at (0, 4) {};
			\node [wnode, label=left:{}] (G) at (0, 3) {};
			\node [wnode, label={$\top$}] (top) at (0, 5) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (B);
			\path [line] (1) -- (3);
			\path [line] (2) -- (B);
			\path [line] (2) -- (4);
			\path [line] (3) -- (5);
			\path [line] (3) -- (G);
			\path [line] (B) -- (G);
			\path [line] (G) -- (F);
			\path [line] (4) -- (6);
			\path [line] (4) -- (G);
			\path [line] (5) -- (7);
			\path [line] (5) -- (F);
			\path [line] (6) -- (F);
			\path [line] (7) -- (top);
			\path [line] (F) -- (top);
		\end{tikzpicture}
	\end{center}
	\caption{Treillis du problème de chaine, souhaité}
	\label{pbl_v6_souhait}
\end{figure}

Les figures \ref{pbl_v6_dist1} à \ref{pbl_v6_dist3_fusion} représentent les treillis successifs au fil du passage dans le programme du cas problèmatique.

\begin{figure}[H]
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-0.5, 1) {};
			\node [wnode, label=right:{2}] (2) at (0.5, 1) {};
			\node [wnode, label=left:{3}] (3) at (-1, 2) {};
			\node [wnode, label=right:{}] (B) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (1, 2) {};
			\node [wnode, label=left:{5}] (5) at (-1.5, 3) {};
			\node [wnode, label={}] (x1) at (-0.5, 3) {};
			\node [wnode, label={}] (x2) at (0.5, 3) {};
			\node [wnode, label=right:{6}] (6) at (1.5, 3) {};
			\node [wnode, label={}] (x3) at (-0.5, 4) {};
			\node [wnode, label={}] (x4) at (1, 4) {};
			\node [wnode, label=left:{7}] (7) at (-1, 5) {};
			\node [wnode, label=left:{}] (F) at (0, 5) {};
			\node [wnode, label={$\top$}] (top) at (0, 6) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (B);
			\path [line] (1) -- (3);
			\path [line] (2) -- (B);
			\path [line] (2) -- (4);
			\path [line] (3) -- (5);
			\path [line] (3) -- (x1);
			\path [line] (B) -- (x1);
			\path [line] (B) -- (x2);
			\path [line] (4) -- (6);
			\path [line] (4) -- (x2);
			\path [line] (5) -- (7);
			\path [line] (5) -- (x3);
			\path [line] (x1) -- (x3);
			\path [line] (x2) -- (x4);
			\path [line] (x2) -- (F);
			\path [line] (6) -- (x4);
			\path [line] (x3) -- (F);
			\path [line] (x4) -- (top);
			\path [line] (7) -- (top);
			\path [line] (F) -- (top);
		\end{tikzpicture}
	\end{center}
	\caption{Treillis du problème de chaine, 1ère distributivité}
	\label{pbl_v6_dist1}
	\end{minipage}
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-0.5, 1) {};
			\node [wnode, label=right:{2}] (2) at (0.5, 1) {};
			\node [wnode, label=left:{3}] (3) at (-1, 2) {};
			\node [wnode, label=right:{}] (B) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (1, 2) {};
			\node [wnode, label=left:{5}] (5) at (-1, 3) {};
			\node [wnode, label={}] (x1) at (0, 3) {};
			\node [wnode, label=right:{6}] (6) at (1, 3) {};
			\node [wnode, label={}] (x3) at (0, 4) {};
			\node [wnode, label=left:{7}] (7) at (-1, 5) {};
			\node [wnode, label=left:{}] (F) at (0, 5) {};
			\node [wnode, label={$\top$}] (top) at (0, 6) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (B);
			\path [line] (1) -- (3);
			\path [line] (2) -- (B);
			\path [line] (2) -- (4);
			\path [line] (3) -- (5);
			\path [line] (3) -- (x1);
			\path [line] (B) -- (x1);
			\path [line] (4) -- (6);
			\path [line] (4) -- (x1);
			\path [line] (5) -- (7);
			\path [line] (5) -- (x3);
			\path [line] (x1) -- (x3);
			\path [line] (6) -- (x3);
			\path [line] (x3) -- (F);
			\path [line] (7) -- (top);
			\path [line] (F) -- (top);
		\end{tikzpicture}
	\end{center}
	\caption{Treillis du problème de chaine, 1ère distributivité avec fusion}
	\label{pbl_v6_dist1_fusion}
	\end{minipage}
\end{figure}
\begin{figure}[H]
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-0.5, 1) {};
			\node [wnode, label=right:{2}] (2) at (0.5, 1) {};
			\node [wnode, label=left:{3}] (3) at (-1, 2) {};
			\node [wnode, label=right:{}] (B) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (1, 2) {};
			\node [wnode, label=left:{5}] (5) at (-1.5, 3) {};
			\node [wnode, label={}] (x1) at (-0.5, 3) {};
			\node [wnode, label={}] (x2) at (0.5, 3) {};
			\node [wnode, label=right:{6}] (6) at (1.5, 3) {};
			\node [wnode, label={}] (x3) at (-0.5, 4) {};
			\node [wnode, label={}] (x5) at (0.5, 4) {};
			\node [wnode, label={}] (x4) at (1.5, 4) {};
			\node [wnode, label=left:{7}] (7) at (-1.5, 4) {};
			\node [wnode, label={}] (x6) at (-1, 5) {};
			\node [wnode, label=left:{}] (F) at (0, 5) {};
			\node [wnode, label={}] (x7) at (1, 5) {};
			\node [wnode, label={}] (x8) at (-0.5, 6) {};
			\node [wnode, label={}] (x9) at (0.5, 6) {};
			\node [wnode, label={}] (x10) at (-0.5, 7) {};
			\node [wnode, label={}] (x11) at (0.5, 7) {};
			\node [wnode, label={$\top$}] (top) at (0, 8) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (B);
			\path [line] (1) -- (3);
			\path [line] (2) -- (B);
			\path [line] (2) -- (4);
			\path [line] (3) -- (5);
			\path [line] (3) -- (x1);
			\path [line] (B) -- (x1);
			\path [line] (B) -- (x2);
			\path [line] (4) -- (6);
			\path [line] (4) -- (x2);
			\path [line] (5) -- (7);
			\path [line] (5) -- (x3);
			\path [line] (x1) -- (x3);
			\path [line] (x1) -- (x5);
			\path [line] (x2) -- (x4);
			\path [line] (x2) -- (x5);
			\path [line] (6) -- (x4);
			\path [line] (x3) -- (F);
			\path [line] (7) -- (x6);
			\path [line] (x3) -- (x6);
			\path [line] (x3) -- (F);
			\path [line] (x5) -- (F);
			\path [line] (x5) -- (x7);
			\path [line] (x4) -- (x7);
			\path [line] (x6) -- (x8);
			\path [line] (F) -- (x8);
			\path [line] (F) -- (x9);
			\path [line] (x7) -- (x9);
			\path [line] (x8) -- (x10);
			\path [line] (x9) -- (x10);
			\path [line] (x9) -- (x11);
			\path [line] (x10) -- (top);
			\path [line] (x11) -- (top);
		\end{tikzpicture}
	\end{center}
	\caption{Treillis du problème de chaine, 2nde distributivité}
	\label{pbl_v6_dist2}
	\end{minipage}
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-0.5, 1) {};
			\node [wnode, label=right:{2}] (2) at (0.5, 1) {};
			\node [wnode, label=left:{3}] (3) at (-1, 2) {};
			\node [wnode, label=right:{}] (B) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (1, 2) {};
			\node [wnode, label=left:{5}] (5) at (-1, 3) {};
			\node [wnode, label={}] (x1) at (0, 3) {};
			\node [wnode, label=right:{6}] (6) at (1, 3) {};
			\node [wnode, label={}] (x3) at (0, 4) {};
			\node [wnode, label=left:{7}] (7) at (-1, 4) {};
			\node [wnode, label={}] (x6) at (-1, 5) {};
			\node [wnode, label=left:{}] (F) at (0, 5) {};
			\node [wnode, label={}] (x7) at (1, 5) {};
			\node [wnode, label={}] (x8) at (-0.5, 6) {};
			\node [wnode, label={}] (x9) at (0.5, 6) {};
			\node [wnode, label={}] (x10) at (-0.5, 7) {};
			\node [wnode, label={}] (x11) at (0.5, 7) {};
			\node [wnode, label={$\top$}] (top) at (0, 8) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (B);
			\path [line] (1) -- (3);
			\path [line] (2) -- (B);
			\path [line] (2) -- (4);
			\path [line] (3) -- (5);
			\path [line] (3) -- (x1);
			\path [line] (B) -- (x1);
			\path [line] (4) -- (6);
			\path [line] (4) -- (x1);
			\path [line] (5) -- (7);
			\path [line] (5) -- (x3);
			\path [line] (x1) -- (x3);
			\path [line] (6) -- (x3);
			\path [line] (x3) -- (F);
			\path [line] (7) -- (x6);
			\path [line] (x3) -- (x6);
			\path [line] (x3) -- (F);
			\path [line] (x3) -- (x7);
			\path [line] (x6) -- (x8);
			\path [line] (F) -- (x8);
			\path [line] (F) -- (x9);
			\path [line] (x7) -- (x9);
			\path [line] (x8) -- (x10);
			\path [line] (x9) -- (x10);
			\path [line] (x9) -- (x11);
			\path [line] (x10) -- (top);
			\path [line] (x11) -- (top);
		\end{tikzpicture}
	\end{center}
	\caption{Treillis du problème de chaine, 2nde distributivité avec fusion}
	\label{pbl_v6_dist2_fusion}
	\end{minipage}
\end{figure}
\begin{figure}[H]
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-0.5, 1) {};
			\node [wnode, label=right:{2}] (2) at (0.5, 1) {};
			\node [wnode, label=left:{3}] (3) at (-1, 2) {};
			\node [wnode, label=right:{}] (B) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (1, 2) {};
			\node [wnode, label=left:{5}] (5) at (-1.5, 3) {};
			\node [wnode, label={}] (x1) at (-0.5, 3) {};
			\node [wnode, label={}] (x2) at (0.5, 3) {};
			\node [wnode, label=right:{6}] (6) at (1.5, 3) {};
			\node [wnode, label={}] (x3) at (-0.5, 4) {};
			\node [wnode, label={}] (x5) at (0.5, 4) {};
			\node [wnode, label={}] (x4) at (1.5, 4) {};
			\node [wnode, label=left:{7}] (7) at (-1.5, 4) {};
			\node [wnode, label={}] (x6) at (-1, 5) {};
			\node [wnode, label=left:{}] (F) at (0, 5) {};
			\node [wnode, label={}] (x7) at (1, 5) {};
			\node [wnode, label={}] (x8) at (-0.5, 6) {};
			\node [wnode, label={}] (x9) at (0.5, 6) {};
			\node [wnode, label={}] (x10) at (-0.5, 7) {};
			\node [wnode, label={}] (x11) at (0.5, 7) {};
			\node [wnode, label={}] (x12) at (1.5, 7) {};
			\node [wnode, label={}] (x13) at (-0.5, 8) {};
			\node [wnode, label={}] (x14) at (0.5, 8) {};
			\node [wnode, label={}] (x15) at (1.5, 8) {};
			\node [wnode, label={}] (x16) at (0.5, 9) {};
			\node [wnode, label={}] (x17) at (1.5, 9) {};
			\node [wnode, label={$\top$}] (top) at (1, 10) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (B);
			\path [line] (1) -- (3);
			\path [line] (2) -- (B);
			\path [line] (2) -- (4);
			\path [line] (3) -- (5);
			\path [line] (3) -- (x1);
			\path [line] (B) -- (x1);
			\path [line] (B) -- (x2);
			\path [line] (4) -- (6);
			\path [line] (4) -- (x2);
			\path [line] (5) -- (7);
			\path [line] (5) -- (x3);
			\path [line] (x1) -- (x3);
			\path [line] (x1) -- (x5);
			\path [line] (x2) -- (x4);
			\path [line] (x2) -- (x5);
			\path [line] (6) -- (x4);
			\path [line] (x3) -- (F);
			\path [line] (7) -- (x6);
			\path [line] (x3) -- (x6);
			\path [line] (x3) -- (F);
			\path [line] (x5) -- (F);
			\path [line] (x5) -- (x7);
			\path [line] (x4) -- (x7);
			\path [line] (x6) -- (x8);
			\path [line] (F) -- (x8);
			\path [line] (F) -- (x9);
			\path [line] (x7) -- (x9);
			\path [line] (x8) -- (x10);
			\path [line] (x9) -- (x10);
			\path [line] (x9) -- (x11);
			\path [line] (x9) -- (x12);
			\path [line] (x10) -- (x13);
			\path [line] (x10) -- (x14);
			\path [line] (x11) -- (x13);
			\path [line] (x11) -- (x15);
			\path [line] (x12) -- (x14);
			\path [line] (x12) -- (x15);
			\path [line] (x13) -- (x16);
			\path [line] (x14) -- (x16);
			\path [line] (x15) -- (x16);
			\path [line] (x15) -- (x17);
			\path [line] (x16) -- (top);
			\path [line] (x17) -- (top);
		\end{tikzpicture}
	\end{center}
	\caption{Treillis du problème de chaine, 3ème distributivité}
	\label{pbl_v6_dist3}
	\end{minipage}
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{$\bot$}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-0.5, 1) {};
			\node [wnode, label=right:{2}] (2) at (0.5, 1) {};
			\node [wnode, label=left:{3}] (3) at (-1, 2) {};
			\node [wnode, label=right:{}] (B) at (0, 2) {};
			\node [wnode, label=right:{4}] (4) at (1, 2) {};
			\node [wnode, label=left:{5}] (5) at (-1, 3) {};
			\node [wnode, label={}] (x1) at (0, 3) {};
			\node [wnode, label=right:{6}] (6) at (1, 3) {};
			\node [wnode, label={}] (x3) at (0, 4) {};
			\node [wnode, label=left:{7}] (7) at (-1, 4) {};
			\node [wnode, label=left:{}] (F) at (-0.5, 5) {};
			\node [wnode, label={}] (x8) at (-0.5, 6) {};
			\node [wnode, label={}] (x10) at (0.5, 7) {};
			\node [wnode, label={}] (x11) at (-0.5, 7) {};
			\node [wnode, label={}] (x12) at (-1.5, 7) {};
			\node [wnode, label={}] (x13) at (0.5, 8) {};
			\node [wnode, label={}] (x14) at (-0.5, 8) {};
			\node [wnode, label={}] (x15) at (-1.5, 8) {};
			\node [wnode, label={}] (x16) at (0.5, 9) {};
			\node [wnode, label={}] (x17) at (-0.5, 9) {};
			\node [wnode, label={$\top$}] (top) at (0, 10) {};
		
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (2);
			\path [line] (1) -- (3);
			\path [line] (1) -- (B);
			\path [line] (1) -- (3);
			\path [line] (2) -- (B);
			\path [line] (2) -- (4);
			\path [line] (3) -- (5);
			\path [line] (3) -- (x1);
			\path [line] (B) -- (x1);
			\path [line] (4) -- (6);
			\path [line] (4) -- (x1);
			\path [line] (5) -- (7);
			\path [line] (5) -- (x3);
			\path [line] (x1) -- (x3);
			\path [line] (6) -- (x3);
			\path [line] (x3) -- (F);
			\path [line] (7) -- (F);
			\path [line] (x3) -- (F);
			\path [line] (F) -- (x8);
			\path [line] (x8) -- (x10);
			\path [line] (x8) -- (x11);
			\path [line] (x8) -- (x12);
			\path [line] (x10) -- (x13);
			\path [line] (x10) -- (x14);
			\path [line] (x11) -- (x13);
			\path [line] (x11) -- (x15);
			\path [line] (x12) -- (x14);
			\path [line] (x12) -- (x15);
			\path [line] (x13) -- (x16);
			\path [line] (x13) -- (x17);
			\path [line] (x14) -- (x17);
			\path [line] (x15) -- (x17);
			\path [line] (x16) -- (top);
			\path [line] (x17) -- (top);
		\end{tikzpicture}
	\end{center}
	\caption{Treillis du problème de chaine, 3ème distributivité avec fusion}
	\label{pbl_v6_dist3_fusion}
	\end{minipage}
\end{figure}

Comme nous pouvons le voir, cela donne un treillis plutôt éloigné de ce qui est souhaité. L'idéal est de trouver réellement le moment exacte et la raison exacte du soucis. Faute d'une meilleure solution à ce moment, pour contourner ce problème j'ai ajouté une condition visant à épurer les situations de chaines inutiles, en fusionnant vers le bas les n\oe uds n'ayant qu'un unique n\oe ud en ouverture et n'étant la couverture que d'un unique n\oe ud et sans être l'un des n\oe uds du treillis de base. Cette 'épuration est effectué juste après la fusion. 

\section{Ouvertures}

\subsection{Système de boucle}

Comme nous l'avons vu précédemment, nous devons boucler sur l'algorithme afin de prendre en considération les cas qui générent un nouvel $N_5$ ou $M_3$ lors de leur première résolution. Les méthodes présentées ici ne sont pas utilisées dans le programme mais sont des pistes intéressantes à garder à l'esprit en cas de problèmes futurs.

\smallbreak

Pour la première, il s'agit de faire la fusion pas à pas. On execute la méthode cla différemment. On extrait les contextes des treillis des atomes puis on effectue pour chacun d'eux la transformation en contexte de treillis distributif et on l'assemble avec le contexte global et c'est à ce moment où on fait les fusions si besoin avant de passer au contexte du treillis de l'atome suivant. Cette façon de faire peut permettre de gagner du temps sur la phase de la fusion mais en ferra perdre lors de l'étape de transformation en treillis distributif. Je ne peux pas déterminer laquelle est la meilleure à l'heure actuelle, reste à voir si à l'avenir de nouveaux problèmes se posent et si cette nouvelle méthode peut apporter des réponses.

\smallbreak

La seconde est de faire une boucle sur tout le c\oe ur du processus et de faire les fusions de n\oe uds à la fin. Cette solution contrairement à la première empêche toute possibilité de cycle dû à la fusion mais donne la plupart du temps le treillis distributif maximal pour chaque atome et la fusion devient par conséquent très compliquée, ce qui donne des treillis bien plus grand que ceux visés.

\subsection{Le cas des chaines}

Malheureusement, cette partie n'est pas fiable et résulte principalement d'une intuition basé sur un objectif à atteindre et donnant lieu à un raccourci par rapport à une propriété ou à un traitement non mis à découvert. C'est sous doute la principale du programme à garder sous surveillance et à chercher à améliorer.

\subsection{Optimalité du treillis}

La base même du besoin de ces travaux qui est d'obtenir un graphe médian pour la phylogénie à partir d'une matrice binaire, demande d'avoir en sortie un treillis le plus petit et le plus proche possible du treillis du contexte d'origine. Il est donc évident que l'une des prochaines étapes les plus importantes consiste à quantifier et mesurer cette différence entre deux treillis. On est dans une situation d'ajout d'éléments, la solution la plus simple est donc de compter tout simplement les éléments ajouter sous forme de tuple comprenant un compteur pour les arcs et un compteurs pour les n\oe uds. Par rapport au treillis de la figure \ref{clav1_before}, le treillis de la figure \ref{clav1_after} est à une distance de $(1, 2)$ pour avoir un n\oe ud et deux arcs de plus. Cela reste un ébauche de méthode, il faut évidemment une reflexion bien plus approfondie et travaillée sur de nombreux cas pour commencer à arriver sur une méthode viable.

\begin{figure}[H]
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{bot}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-1, 1) {};
			\node [wnode, label=right:{4}] (4) at (1, 1) {};
			\node [wnode, label=left:{2, A}] (2) at (-2, 2) {};
			\node [wnode, label=left:{3, B}] (3) at (-2, 3) {};
			\node [wnode, label=right:{5, D}] (5) at (2, 2) {};
			\node [wnode, label=right:{6, E}] (6) at (2, 3) {};
			\node [wnode, label=right:{C}] (C) at (0, 2) {};
			\node [wnode, label={top}] (top) at (0, 4) {};
			
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (4);
			\path [line] (1) -- (2);
			\path [line] (1) -- (C);
			\path [line] (2) -- (3);
			\path [line] (3) -- (top);
			\path [line] (4) -- (5);
			\path [line] (4) -- (C);
			\path [line] (5) -- (6);
			\path [line] (6) -- (top);
			\path [line] (C) -- (top);
		\end{tikzpicture}
	\end{center}
	\caption{Treillis avant traitement}
	\label{clav1_before}
	\end{minipage}
	\begin{minipage}{0.5\textwidth}
	\begin{center}
		\begin{tikzpicture}
			\node [wnode, label=below:{bot}] (bot) at (0,0) {};
			\node [wnode, label=left:{1}] (1) at (-1, 1) {};
			\node [wnode, label=right:{4}] (4) at (1, 1) {};
			\node [wnode, label=left:{2}] (2) at (-2, 2) {};
			\node [wnode, label=left:{3, B}] (3) at (-2, 3) {};
			\node [wnode, label=right:{5}] (5) at (2, 2) {};
			\node [wnode, label=right:{6, E}] (6) at (2, 3) {};
			\node [wnode, label=right:{C}] (C) at (0, 2) {};
			\node [bnode, label=right:{F}] (F) at (0, 3) {};
			\node [wnode, label={top}] (top) at (0, 4) {};
			
			\path [line] (bot) -- (1);
			\path [line] (bot) -- (4);
			\path [line] (1) -- (2);
			\path [line] (1) -- (C);
			\path [line] (2) -- (3);
			\path [line] (3) -- (top);
			\path [line] (4) -- (5);
			\path [line] (4) -- (C);
			\path [line] (5) -- (6);
			\path [line] (6) -- (top);
			\path [line] (C) -- (F);
			\path [line] (F) -- (top);
			\path [line] (2) -- (F);
			\path [line] (5) -- (F);
		\end{tikzpicture}
	\end{center}
	\caption{Treillis après traitement}
	\label{clav1_after}
	\end{minipage}
\end{figure}

De plus, mes travaux dans ce rapport nécessite également un travail plus approfondi pour juger de son efficacité sur ce plan d'optimisation. De regarder sur des cas beaucoup plus complexe et plus proche de données réelles si nous obtenons des graphes médians utilisables à partir des treillis obtenus.

\subsection{Optimisation du programme}

Le dernier point important à traiter venant à la suite de ce travail est l'optimisation du programme en lui-même afin de lui faire gagner en vitesse de traitement et lui faire perdre en possibilité de bogues via une optimisation de son code. Il reste un logiciel développé dans un cadre de recherche et qui a subit des ajouts itératifs qui n'ont pas été systématiquement gardés.